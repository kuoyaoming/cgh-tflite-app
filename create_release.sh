#!/bin/bash

# GitHub Release åˆ›å»ºè„šæœ¬
# ç”¨äºå‘å¸ƒAndroid 16æµ‹è¯•ç‰ˆæœ¬

echo "ğŸš€ åˆ›å»ºGitHub Release"
echo "===================="

# æ£€æŸ¥GitçŠ¶æ€
echo "ğŸ“‹ æ£€æŸ¥GitçŠ¶æ€..."
git status

# è·å–å½“å‰åˆ†æ”¯å’Œç‰ˆæœ¬ä¿¡æ¯
BRANCH=$(git branch --show-current)
VERSION=$(grep "versionName" app/build.gradle | cut -d'"' -f2)
VERSION_CODE=$(grep "versionCode" app/build.gradle | cut -d' ' -f2)

echo "ğŸ“± ç‰ˆæœ¬ä¿¡æ¯:"
echo "  åˆ†æ”¯: $BRANCH"
echo "  ç‰ˆæœ¬: $VERSION"
echo "  ç‰ˆæœ¬ä»£ç : $VERSION_CODE"

# åˆ›å»ºè¾“å‡ºç›®å½•
mkdir -p app/build/outputs/apk/debug
mkdir -p app/build/outputs/apk/release

# åˆ›å»ºæ¨¡æ‹ŸAPKæ–‡ä»¶ï¼ˆå®é™…æ„å»ºéœ€è¦Android SDKï¼‰
echo "ğŸ“¦ åˆ›å»ºæ¨¡æ‹ŸAPKæ–‡ä»¶..."

# åˆ›å»ºæ¨¡æ‹Ÿçš„APKæ–‡ä»¶
cat > app/build/outputs/apk/debug/app-debug.apk << 'EOF'
# è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„APKæ–‡ä»¶
# å®é™…æ„å»ºéœ€è¦Android SDKå’Œæ­£ç¡®çš„æ„å»ºç¯å¢ƒ
# 
# Android 16 æµ‹è¯•ç‰ˆæœ¬ç‰¹æ€§:
# - Material 3 Expressiveè®¾è®¡
# - å¤§å±å¹•é€‚é…æ”¯æŒ
# - æ¡Œé¢æ¨¡å¼æ”¯æŒ
# - Live UpdatesåŠŸèƒ½
# - å®‰å…¨æ€§å¢å¼º
EOF

# åˆ›å»ºReleaseè¯´æ˜
cat > RELEASE_NOTES.md << EOF
# Android 16 æµ‹è¯•ç‰ˆæœ¬ v$VERSION

## ğŸ¯ ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**: $VERSION
- **ç‰ˆæœ¬ä»£ç **: $VERSION_CODE
- **ç›®æ ‡SDK**: Android 16 (API Level 36)
- **æœ€ä½SDK**: Android 5.0 (API Level 21)
- **æ„å»ºåˆ†æ”¯**: $BRANCH

## âœ¨ æ–°åŠŸèƒ½

### Material 3 Expressiveè®¾è®¡
- ğŸ¨ å…¨æ–°çš„Material 3ä¸»é¢˜ç³»ç»Ÿ
- ğŸŒˆ åŠ¨æ€é¢œè‰²æ”¯æŒï¼ˆæµ…è‰²/æ·±è‰²ä¸»é¢˜ï¼‰
- âœ¨ æœ‰æœºåŠ¨ç”»å’ŒåŠ¨æ€æ’ç‰ˆ
- ğŸ­ ç°ä»£åŒ–UIç»„ä»¶

### å¤§å±å¹•é€‚é…
- ğŸ“± å“åº”å¼å¸ƒå±€æ”¯æŒ
- ğŸ–¥ï¸ å¹³æ¿å’ŒæŠ˜å å±ä¼˜åŒ–
- ğŸ“ ç½‘æ ¼å¸ƒå±€ç³»ç»Ÿ
- ğŸ§­ ä¾§è¾¹å¯¼èˆªæ”¯æŒ

### æ¡Œé¢æ¨¡å¼æ”¯æŒ
- ğŸªŸ å¯è°ƒæ•´å¤§å°çš„çª—å£
- âŒ¨ï¸ é”®ç›˜å¿«æ·é”®æ”¯æŒ
- ğŸ–±ï¸ é¼ æ ‡äº¤äº’ä¼˜åŒ–
- ğŸ”„ å¤šçª—å£æ”¯æŒ

### Live UpdatesåŠŸèƒ½
- ğŸ”” å®æ—¶è¿›åº¦é€šçŸ¥
- ğŸ“Š åŠ¨æ€å†…å®¹æ›´æ–°
- ğŸ›ï¸ æ“ä½œæŒ‰é’®é›†æˆ
- ğŸ“ˆ è¯¦ç»†çŠ¶æ€ä¿¡æ¯

### å®‰å…¨æ€§å¢å¼º
- ğŸ” æ•°æ®åŠ å¯†ä¿æŠ¤
- ğŸ‘† ç”Ÿç‰©è¯†åˆ«æ”¯æŒ
- ğŸ›¡ï¸ å®‰å…¨ç¯å¢ƒæ£€æµ‹
- ğŸ”‘ æƒé™ç®¡ç†ä¼˜åŒ–

## ğŸ“± ç³»ç»Ÿè¦æ±‚

### æœ€ä½è¦æ±‚
- **Androidç‰ˆæœ¬**: 5.0 (API Level 21)
- **RAM**: 2GB
- **å­˜å‚¨ç©ºé—´**: 100MB

### æ¨èé…ç½®
- **Androidç‰ˆæœ¬**: 16 (API Level 36)
- **RAM**: 4GBæˆ–æ›´å¤š
- **å­˜å‚¨ç©ºé—´**: 500MB
- **å±å¹•**: æ”¯æŒå¤§å±å¹•å’Œæ¡Œé¢æ¨¡å¼

## ğŸš€ å®‰è£…è¯´æ˜

1. ä¸‹è½½APKæ–‡ä»¶
2. åœ¨Androidè®¾å¤‡ä¸Šå¯ç”¨"æœªçŸ¥æ¥æº"å®‰è£…
3. ç‚¹å‡»APKæ–‡ä»¶è¿›è¡Œå®‰è£…
4. å¯åŠ¨åº”ç”¨å¹¶äº«å—æ–°åŠŸèƒ½

## ğŸ§ª æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•
- [ ] Material 3ä¸»é¢˜åˆ‡æ¢
- [ ] å¤§å±å¹•å¸ƒå±€é€‚é…
- [ ] æ¡Œé¢æ¨¡å¼çª—å£ç®¡ç†
- [ ] Live Updatesé€šçŸ¥
- [ ] å®‰å…¨åŠŸèƒ½éªŒè¯

### è®¾å¤‡æµ‹è¯•
- [ ] Android 16è®¾å¤‡æµ‹è¯•
- [ ] å¹³æ¿è®¾å¤‡æµ‹è¯•
- [ ] æ¡Œé¢æ¨¡å¼æµ‹è¯•
- [ ] ä¸åŒå±å¹•å°ºå¯¸æµ‹è¯•

## ğŸ› å·²çŸ¥é—®é¢˜

- æŸäº›æ—§è®¾å¤‡å¯èƒ½ä¸æ”¯æŒæ‰€æœ‰æ–°åŠŸèƒ½
- æ¡Œé¢æ¨¡å¼éœ€è¦Android 7.0+
- ç”Ÿç‰©è¯†åˆ«åŠŸèƒ½éœ€è¦ç¡¬ä»¶æ”¯æŒ

## ğŸ“ åé¦ˆå’Œæ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
2. æäº¤Issueåˆ°GitHubä»“åº“
3. è”ç³»å¼€å‘å›¢é˜Ÿ

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v$VERSION (Android 16æµ‹è¯•ç‰ˆ)
- âœ… å‡çº§åˆ°Android 16æ”¯æŒ
- âœ… å®ç°Material 3 Expressiveè®¾è®¡
- âœ… æ·»åŠ å¤§å±å¹•é€‚é…
- âœ… æ”¯æŒæ¡Œé¢æ¨¡å¼
- âœ… å®ç°Live UpdatesåŠŸèƒ½
- âœ… å¢å¼ºå®‰å…¨åŠŸèƒ½

---

**æ³¨æ„**: è¿™æ˜¯Android 16çš„æµ‹è¯•ç‰ˆæœ¬ï¼Œä¸»è¦ç”¨äºéªŒè¯æ–°åŠŸèƒ½ã€‚ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¯·è¿›è¡Œå……åˆ†æµ‹è¯•ã€‚
EOF

echo "ğŸ“ åˆ›å»ºReleaseè¯´æ˜æ–‡æ¡£..."
echo "âœ… Releaseè¯´æ˜å·²åˆ›å»º: RELEASE_NOTES.md"

# æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯
echo ""
echo "ğŸ“ æ„å»ºè¾“å‡º:"
ls -la app/build/outputs/apk/debug/ 2>/dev/null || echo "  æ„å»ºç›®å½•ä¸ºç©º"

echo ""
echo "ğŸ“‹ ä¸‹ä¸€æ­¥æ“ä½œ:"
echo "1. é…ç½®Android SDKç¯å¢ƒ"
echo "2. è¿è¡Œ: ./gradlew assembleDebug"
echo "3. åˆ›å»ºGitHub Release"
echo "4. ä¸Šä¼ APKæ–‡ä»¶"

echo ""
echo "ğŸ‰ å‡†å¤‡å®Œæˆï¼"